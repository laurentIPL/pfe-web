{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\DJsimon93\\\\Desktop\\\\IPL\\\\bloc 3\\\\PFE\\\\PFE\\\\Web_app\\\\src\\\\components\\\\Home.js\";\n\nimport React, { useState } from \"react\";\nimport DataService from \"../services/Service\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\n\nvar Home = function Home() {\n  var imageStringBase64 = \"\";\n  var initialDemandState = {\n    id: null,\n    quantity: \"1\"\n  };\n\n  var _useState = useState(initialDemandState),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      submitted = _useState4[0],\n      setSubmitted = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      QRImage = _useState6[0],\n      setQRImage = _useState6[1];\n\n  var saveData = function saveData() {\n    var data = {\n      quantity: \"2\"\n    };\n    QRImage = (_readOnlyError(\"QRImage\"), setQRImage(React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 26\n      }\n    }, \"waiting...\")));\n    DataService.askForQR(data).then(function (response) {\n      setData({\n        id: response.data.id,\n        title: response.data.title,\n        description: response.data.description,\n        published: response.data.published\n      });\n      var imageStringBase64 = 'data:image/png;base64,' + response.data.image;\n      setSubmitted(true);\n      console.log(response.data);\n      console.log(imageStringBase64);\n      QRImage = (_readOnlyError(\"QRImage\"), setQRImage(React.createElement(Image, {\n        style: {\n          flex: 0.2,\n          width: 200,\n          height: 200,\n          resizeMode: 'contain'\n        },\n        source: {\n          uri: imageStringBase64\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 30\n        }\n      })));\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, React.createElement(Button, {\n    onPress: saveData,\n    title: \"Ask QR Code Now\",\n    color: \"#841584\",\n    accessibilityLabel: \"Learn more about this purple button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), QRImage);\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/DJsimon93/Desktop/IPL/bloc 3/PFE/PFE/Web_app/src/components/Home.js"],"names":["React","useState","DataService","Home","imageStringBase64","initialDemandState","id","quantity","data","setData","submitted","setSubmitted","QRImage","setQRImage","saveData","askForQR","then","response","title","description","published","image","console","log","flex","width","height","resizeMode","uri","catch","e"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,WAAP;;;;AAIA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,MAAMC,iBAAiB,GAAG,EAA1B;AACA,MAAMC,kBAAkB,GAAG;AACzBC,IAAAA,EAAE,EAAE,IADqB;AAEzBC,IAAAA,QAAQ,EAAE;AAFe,GAA3B;;AAFiB,kBAMON,QAAQ,CAACI,kBAAD,CANf;AAAA;AAAA,MAMVG,IANU;AAAA,MAMJC,OANI;;AAAA,mBAOiBR,QAAQ,CAAC,KAAD,CAPzB;AAAA;AAAA,MAOVS,SAPU;AAAA,MAOCC,YAPD;;AAAA,mBAQYV,QAAQ,EARpB;AAAA;AAAA,MAQVW,OARU;AAAA,MAQFC,UARE;;AAYjB,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAIN,IAAI,GAAG;AACTD,MAAAA,QAAQ,EAAE;AADD,KAAX;AAGAK,IAAAA,OAAO,+BAAGC,UAAU,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAD,CAAb,CAAP;AACAX,IAAAA,WAAW,CAACa,QAAZ,CAAqBP,IAArB,EACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBR,MAAAA,OAAO,CAAC;AACNH,QAAAA,EAAE,EAAEW,QAAQ,CAACT,IAAT,CAAcF,EADZ;AAENY,QAAAA,KAAK,EAAED,QAAQ,CAACT,IAAT,CAAcU,KAFf;AAGNC,QAAAA,WAAW,EAAEF,QAAQ,CAACT,IAAT,CAAcW,WAHrB;AAINC,QAAAA,SAAS,EAAEH,QAAQ,CAACT,IAAT,CAAcY;AAJnB,OAAD,CAAP;AAMA,UAAMhB,iBAAiB,GAAG,2BAAyBa,QAAQ,CAACT,IAAT,CAAca,KAAjE;AACAV,MAAAA,YAAY,CAAC,IAAD,CAAZ;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAQ,CAACT,IAArB;AACAc,MAAAA,OAAO,CAACC,GAAR,CAAYnB,iBAAZ;AACAQ,MAAAA,OAAO,+BAAGC,UAAU,CAAC,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAEW,UAAAA,IAAI,EAAE,GAAR;AAAYC,UAAAA,KAAK,EAAC,GAAlB;AAAuBC,UAAAA,MAAM,EAAC,GAA9B;AAAmCC,UAAAA,UAAU,EAAE;AAA/C,SAAd;AAA0E,QAAA,MAAM,EAAE;AAACC,UAAAA,GAAG,EAAExB;AAAN,SAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAD,CAAb,CAAP;AACD,KAbH,EAcGyB,KAdH,CAcS,UAAAC,CAAC,EAAI;AACVR,MAAAA,OAAO,CAACC,GAAR,CAAYO,CAAZ;AACD,KAhBH;AAiBD,GAtBD;;AA0BA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEhB,QADX;AAEE,IAAA,KAAK,EAAC,iBAFR;AAGE,IAAA,KAAK,EAAC,SAHR;AAIE,IAAA,kBAAkB,EAAC,qCAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOGF,OAPH,CADF;AAaD,CAnDD;;AAqDA,eAAeT,IAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport DataService from \"../services/Service\";\r\nimport { Button,Image } from 'react-native';\r\n\r\n\r\nconst Home = () => {\r\n  const imageStringBase64 = \"\";\r\n  const initialDemandState = {\r\n    id: null,\r\n    quantity: \"1\"\r\n  };\r\n  const [data, setData] = useState(initialDemandState);\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [QRImage,setQRImage] = useState()\r\n\r\n\r\n\r\n  const saveData = () => {\r\n    var data = {\r\n      quantity: \"2\"\r\n    };\r\n    QRImage = setQRImage(<p>waiting...</p>)\r\n    DataService.askForQR(data)\r\n      .then(response => {\r\n        setData({\r\n          id: response.data.id,\r\n          title: response.data.title,\r\n          description: response.data.description,\r\n          published: response.data.published\r\n        });\r\n        const imageStringBase64 = 'data:image/png;base64,'+response.data.image\r\n        setSubmitted(true);\r\n        console.log(response.data);\r\n        console.log(imageStringBase64);\r\n        QRImage = setQRImage(<Image style={{ flex: 0.2,width:200, height:200, resizeMode: 'contain' }} source={{uri: imageStringBase64}}/>)\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div >\r\n      <Button\r\n        onPress={saveData}\r\n        title=\"Ask QR Code Now\"\r\n        color=\"#841584\"\r\n        accessibilityLabel=\"Learn more about this purple button\"\r\n      />\r\n      {QRImage}\r\n      \r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}